<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		

<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Re: [問卦] 有沒有PTT人數到達上限的八卦? - 精華區 Gossiping - 批踢踢實業坊</title>
<meta name="robots" content="all">
<meta name="keywords" content="Ptt BBS 批踢踢">
<meta name="description" content="根據這篇 註冊人數本來就快滿了
作者: smartboy (很長長長長長長長的暱稱!) 看板: smartboy
標題: ptt 數據
時間: Sun Oct 18 01:32:27 2009
我偶爾會看 ptt 的一些統計圖觀察系統的行為,
">
<meta property="og:site_name" content="Ptt 批踢踢實業坊">
<meta property="og:title" content="Re: [問卦] 有沒有PTT人數到達上限的八卦?">
<meta property="og:description" content="根據這篇 註冊人數本來就快滿了
作者: smartboy (很長長長長長長長的暱稱!) 看板: smartboy
標題: ptt 數據
時間: Sun Oct 18 01:32:27 2009
我偶爾會看 ptt 的一些統計圖觀察系統的行為,
">
<link rel="canonical" href="https://www.ptt.cc/man/Gossiping/D315/D2D4/DE94/D332/M.1374747047.A.1DF.html">

<link rel="stylesheet" type="text/css" href="bbs-common.css">
<link rel="stylesheet" type="text/css" href="bbs-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="bbs-custom.css">
<link rel="stylesheet" type="text/css" href="pushstream.css" media="screen">
<link rel="stylesheet" type="text/css" href="bbs-print.css" media="print">




	</head>
    <body>
		
<div id="fb-root"></div>
<script>(function(d, s, id) {
var js, fjs = d.getElementsByTagName(s)[0];
if (d.getElementById(id)) return;
js = d.createElement(s); js.id = id;
js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<div id="topbar-container">
	<div id="topbar" class="bbs-content">
		<a id="logo" href="http://www.ptt.cc/bbs/">批踢踢實業坊</a>
		<span>&rsaquo;</span>
		<a class="board" href="http://www.ptt.cc/man/Gossiping/index.html"><span class="board-label">精華區<sup>beta</sup> </span>Gossiping</a>
		<a class="right small" href="http://www.ptt.cc/about.html">關於我們</a>
		<a class="right small" href="http://www.ptt.cc/contact.html">聯絡資訊</a>
	</div>
</div>
<div id="navigation-container">
	<div id="navigation" class="bbs-content">
		<a class="board" href="http://www.ptt.cc/man/Gossiping/D315/D2D4/DE94/D332/index.html">返回上層</a>
		<div class="bar"></div>
		<div class="share">
			<span>分享</span>
			<div class="fb-like" data-send="false" data-layout="button_count" data-width="90" data-show-faces="false" data-href="http://www.ptt.cc/man/Gossiping/D315/D2D4/DE94/D332/M.1374747047.A.1DF.html"></div>

			<div class="g-plusone" data-size="medium"></div>
<script type="text/javascript">
window.___gcfg = {lang: 'zh-TW'};
(function() {
var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
po.src = 'https://apis.google.com/js/plusone.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
})();
</script>

		</div>
	</div>
</div>
<div id="main-container">
    <div id="main-content" class="bbs-screen bbs-content"><div class="article-metaline"><span class="article-meta-tag">作者</span><span class="article-meta-value">kuangjc5566 (匡匡56)</span></div><div class="article-metaline-right"><span class="article-meta-tag">看板</span><span class="article-meta-value">Gossiping</span></div><div class="article-metaline"><span class="article-meta-tag">標題</span><span class="article-meta-value">Re: [問卦] 有沒有PTT人數到達上限的八卦?</span></div><div class="article-metaline"><span class="article-meta-tag">時間</span><span class="article-meta-value">Mon Nov  9 18:45:11 2009</span></div>
<span class="f2">※ 引述《victoryss (我有禮貌!)》之銘言：
</span><span class="f6">: 剛剛班上朋友說她想上PTT
</span><span class="f6">: 東西好像很多可以看(我絕對不會說出她想看西斯板的事情你們別問)
</span><span class="f6">: 結果註冊之後:
</span><span class="f6">:  ◆ 抱歉，本站使用者帳號總數已達上限，暫時無法註冊新帳號。      [按任意鍵繼續]
</span><span class="f6">: 這殺小= =
</span><span class="f6">: 是真的滿了還是有什麼八卦?
</span><span class="f6">: 難道PTT滿了就真的要成立GTT了嗎?(不懂請看西斯17571)
</span>

根據這篇 註冊人數本來就快滿了


作者: smartboy (很長長長長長長長的暱稱!) 看板: smartboy
標題: ptt 數據
時間: Sun Oct 18 01:32:27 2009

我偶爾會看 ptt 的一些統計圖觀察系統的行為,
常常看了之後在 irc 上零散的發表某些發現.
我想也許有必要整理成一份比較完整的樣子, 方便自己或其他人參考.

此外, 有感許多網站的數據不易取得, ptt 比較沒有競爭關係的考量,
公開這些數據讓大家知道 ptt 的規模,
也許對有興趣的網站開發者/管理者有幫助.

本文可轉載
注意, 以下數據只取樣少數天, 而且不見得是同一天. 僅供參考.
數字大都是從 rrd graph 裡目測的. 資料時間 2009/10
這裡這數據只有 ptt1, bbs 的部份, 不含 ptt2, 也不含 web

基本資料
  註冊人數: 目前 124 萬多, 快到上限 125 萬了
  同時上線人數: 目前上限設 15 萬, 估計若不限制 peak 有機會到 16~17 萬
  看板數: 16411
  看板文章總量: 24561137
  個人信件總量: 45680788
  精華區文章總量: 統計不易, 略

機器
  8 CPU
  64GB ram
  3 組 raid, 各 12,12,4 顆硬碟, 有的用 raid5 有的 raid10

OS
  linux, kernel 2.6.25.20
  x86_64
  bbs 資料主要使用 reiserfs, 其他用 xfs
  切了一堆 partition, 每個 120G, 再把 bbs data 目錄 symbolic link 過去

頻寬
  * 各時段差不多都是 in:out = 1:6
  * 平均大約 in 8Mbps, out 49Mbps
  * peak 大約是 in 66Mbps, out 110Mbps
  * 95% 目測大約 95Mbps

disk storage
  * 總資料量(以 file system block 計)約 430G (只計 board,man,home 的部份)
  * 實際有效資料量
    board 150G
    man 49G
    home 132G
    total 332G

使用曲線/成長
  * 每天的 login account 數, 平均約 40 萬. 每天都滿穩定大約是這個數字.
  * 統計 10/9~10/(9+n-1), 有多少不重複的 login account:
    n   login
    1   399243
    2   506278
    3   567910
    4   607583
    5   634238
    6   655441
    7   674246
    8   690667
    (另外找九月初跟十月初兩天當 base, 算出來的數據也差不多.)
    綜合這些數字, 大概可以看出來, 雖然註冊帳號數一百多萬, 常用的 user 約
    50~60 萬左右, 而這些 user 大約七八成會每天上線.
  * 4am~8am 是人最少的時段, 6am 最少大約在 4 萬多, 8am 開始會穩定大約
    每小時增加一萬人, 到 1pm 人數大致穩定, 4~5pm 人數會開始下滑 5k~10k 人.
    大約 7pm 前會再開始增加, 也是約每小時 1~1.5 萬的速度.
    peak 在 11:00~11:30 之間. 一過12 點, 人數馬上以每小時 2~3 萬的速度減少.
  * 根據同時上線人數, 禮拜天到禮拜四, 這幾天的使用人數/使用量大致上差不多.
    若天氣好的話, 禮拜五六兩天晚上明顯會比較少人, 大概少 3 萬剩 12 萬左右.
    若下雨天, 人數有機會跟平常日差不多.
  * 上站人數跟寒暑假有密切關係. 寒假大約只剩放假前的 65%, 暑假剩 88% 左右.
    放完假人數會回到跟放假前差不多.
  * 大致上並沒有一個簡單的數字可以看 ptt 成長的速度
    - 註冊帳號數常會被註冊後棄置, 而且常常滿掉無法註冊
    - 上站人數常受限於硬體, 而且其中包含不少 idle
    - 各種站上活動會隨時間慢慢改變習慣, 或是受 bot 影響
      (會這樣說是因為有的曲線並不如想像中那樣平緩上升或下降)
    參考各統計數據, 我個人主觀估計, ptt 還在以每年約 10~20% 的速度成長.

各種統計
  * 閱讀文章
    閱讀時間與發文時間差, 各時段都差不多這比例
        &lt;12hr &lt;1day &lt;3day &lt;7day old
        62%   10%   9%    4%    13%
    平均約每秒 470 篇
    peak hour 每秒 1100 篇
    (這是不是可以當作相當於平均每天 40M page view?)
  * post 下午時段約每分鐘 40 次, peak hour 每分鐘 90 次
    值得注意的是, post 數量一年來並沒有增加, 還緩慢減少..
    (目測減少約 10%) 猜測跟推文盛行還有各大板發文條件變嚴有關.
  * 推文 下午時段平均每秒 3 次, peak hour 每秒 7 次.
    但這個數值容易受程式灌水/推文娃娃/推齊等因素影響, 數量比較不穩.
  * 送訊息(水球), 下午時段約每秒 4 次, peak hour 約每秒 13 次.
    自從 IM 開始流行後, 使用率逐年緩慢變小.
    最明顯的記錄是 2006/09/11, msn 大斷線, 每秒水球使用次數 double,
    還造成 ptt server loading 過高, 無法 login.
  * talk 平均每小時 29 次 (含棋類對戰), peak hour 大約一小時 150 次.
  * login: 平均每秒約 10 次, 白天約 10~13 次, peak hour 約 20 次
  * logout: 在剛過半夜 12 點那時, 會瞬間大量 logout, 每秒可達約 30 次

系統
  * read(2), write(2)
    由於 bbs 的特性, user 每輸入一個 key 就會送一個封包, 程式就要 read 一次.
    下午時段大約每秒 8000~10000 次 read.
    peak hour 大約每秒 18000~20000 次.
    write 幾乎跟 read 數量差不多.
    (這邊只算 mbbsd 處理 user input 的 read/write)
  * context switch
    下午時段約每秒 23000 次, peak hour 約 53000 次
  * loading: 當 disk busy 100% 時, OS loading 飆到上千是常有的事,
    當有特殊狀況發生(譬如 peak hour 當站之類的), 會到
    目前 loading 最高記錄是 2007/06/26 (換機器之前), 50051.13, 49961.52,
49302\
.06.
    換機器後的記錄是 2008/03/10, 7682.94, 3073.47, 1347.52
    現在在正常情況下, 白天 loading 大約 10~20, peak hour 會從 30 升到將近 100.
  * memory: peak hour 時, free+buffer+cache 的量大約 24G

bot
  * 兩年來至少有兩三千個帳號曾有疑似 bot/crwaler 行為(快速讀一堆文章)
  * 以月為單位, 2008/04 以前 bot 很少, 或比較節制.
    2008/05 開始突然出現約百隻. 2009/03~04 約到兩百.
  * 以天為單位, 2009/09 幾乎每天都會活動的 bot 大概十來隻.
  * 短期/次數不多的 bot 有可能是用工具程式掃文章備份.

其他
  * 換機器前瓶頸在 ram (16G), 現在瓶頸在 disk io,
    disk loading 大概再多 5% 就撐不住了
  * 對某一時間, unique ip 佔上站人數 9x%
  * (2007/11的數據)某天下午一點, 站上使用者約 45% 在用 pcman/kkman 之類的
    anti-idle 掛在站上. 隨著 pcman 人口增加, 這個比例會再稍微上升
    (pcman default anti-idle, kkman 不是).
    在尖峰時段, 忘了. (偵測 anti-idle 的 code 已不存在)
  * 從 2006/3 到 2009/2,
    kkman 的使用率從 60% 降到 40%,
    (kkman 在 2009/4 推出新版, 目前還不能偵測, 因此沒有更新的數據)

--
<span class="f2">※ 發信站: 批踢踢兔(ptt2.cc)
</span>◆ From: 203.204.141.15

--
<span class="f2">※ 發信站: 批踢踢實業坊(ptt.cc) 
</span>◆ From: 134.208.41.68
<div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">victoryss</span><span class="f3 push-content">:感謝解答!</span><span class="push-ipdatetime"> 11/09 18:45
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">CharlotteX</span><span class="f3 push-content">:我絕對沒有END</span><span class="push-ipdatetime"> 11/09 18:46
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">kuninaka</span><span class="f3 push-content">:一堆人一直強暴SERVER IO好多次</span><span class="push-ipdatetime"> 11/09 18:47
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">hchs31705</span><span class="f3 push-content">:會被偵測~&#34;~</span><span class="push-ipdatetime"> 11/09 18:47
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">kuninaka</span><span class="f3 push-content">:KKMAN還有這麼多人用喔</span><span class="push-ipdatetime"> 11/09 18:47
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">abian</span><span class="f3 push-content">:研究好久 @@</span><span class="push-ipdatetime"> 11/09 18:47
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">youku1</span><span class="f3 push-content">:好多宅宅上線</span><span class="push-ipdatetime"> 11/09 18:47
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">wch6858</span><span class="f3 push-content">:2.6.25</span><span class="push-ipdatetime"> 11/09 18:47
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">overactive</span><span class="f3 push-content">:幹超專業</span><span class="push-ipdatetime"> 11/09 18:47
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">HappyNegro</span><span class="f3 push-content">:這節課是計算機概論嗎?</span><span class="push-ipdatetime"> 11/09 18:47
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">hchs31705</span><span class="f3 push-content">:我用KK阿  純粹好看</span><span class="push-ipdatetime"> 11/09 18:47
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">PinBlack</span><span class="f3 push-content">:看好久...</span><span class="push-ipdatetime"> 11/09 18:47
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">akira1013</span><span class="f3 push-content">:都分身</span><span class="push-ipdatetime"> 11/09 18:48
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">PHONm</span><span class="f3 push-content">:這是你的研究論文嗎!?</span><span class="push-ipdatetime"> 11/09 18:48
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">sony0955</span><span class="f3 push-content">:好猛= =</span><span class="push-ipdatetime"> 11/09 18:48
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">kivan00</span><span class="f3 push-content">:真希望可以把分身都禁掉</span><span class="push-ipdatetime"> 11/09 18:48
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">zx97009</span><span class="f3 push-content">:分身禁掉發戰文就很麻煩了</span><span class="push-ipdatetime"> 11/09 18:48
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">gn02239542</span><span class="f3 push-content">:PTT人還真多...  分身更多= =</span><span class="push-ipdatetime"> 11/09 18:49
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">tsubasawolfy</span><span class="f3 push-content">:每秒1100文章 wow</span><span class="push-ipdatetime"> 11/09 18:49
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">victoryss</span><span class="f3 push-content">:捕推~~~</span><span class="push-ipdatetime"> 11/09 18:49
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">RadioMan</span><span class="f3 push-content">:禁分身 你要蛆蛆怎麼玩</span><span class="push-ipdatetime"> 11/09 18:49
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">hate56</span><span class="f3 push-content">:看完給推</span><span class="push-ipdatetime"> 11/09 18:49
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">gfive3355</span><span class="f3 push-content">:我中大樂透的話資助PTT1000萬</span><span class="push-ipdatetime"> 11/09 18:49
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">takuminauki</span><span class="f3 push-content">:我都用本人戰耶..多有Guts阿</span><span class="push-ipdatetime"> 11/09 18:49
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">forng</span><span class="f3 push-content">:販售帳號</span><span class="push-ipdatetime"> 11/09 18:49
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">japan428</span><span class="f3 push-content">:分身很難禁= =&#34;</span><span class="push-ipdatetime"> 11/09 18:50
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">dawnseas</span><span class="f3 push-content">:酷耶</span><span class="push-ipdatetime"> 11/09 18:50
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">tuoba</span><span class="f3 push-content">:disk io 用 SSD 就可以解決了</span><span class="push-ipdatetime"> 11/09 18:50
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">CHENYOREN</span><span class="f3 push-content">:gfive3355:我中大樂透的話資助PTT1000萬</span><span class="push-ipdatetime"> 11/09 18:51
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">CHENYOREN</span><span class="f3 push-content">:中400也要捐1000萬嗎</span><span class="push-ipdatetime"> 11/09 18:51
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">kivan00</span><span class="f3 push-content">:最好是用SSD，姑且不論容量成本，大概活不過一個月吧 = =</span><span class="push-ipdatetime"> 11/09 18:51
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">kuninaka</span><span class="f3 push-content">:SSD一下就被操爆吧==</span><span class="push-ipdatetime"> 11/09 18:51
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">victoryss</span><span class="f3 push-content">:O</span><span class="push-ipdatetime"> 11/09 18:53
</span></div></div>

    
<div class="bbs-screen bbs-footer-message">本網站已依台灣網站內容分級規定處理。此區域為限制級，未滿十八歲者不得瀏覽。</div>

</div>

		

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-32365737-1', {
    cookieDomain: 'ptt.cc',
    legacyCookieDomain: 'ptt.cc'
  });
  ga('send', 'pageview');
</script>


		
<script src="jquery.min.js"></script>
<script src="script>

    </body>
</html>
