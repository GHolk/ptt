<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		

<meta name="viewport" content="width=device-width, initial-scale=1">

<title>[問題] 打包檔案 - 看板 Linux - 批踢踢實業坊</title>
<meta name="robots" content="all">
<meta name="keywords" content="Ptt BBS 批踢踢">
<meta name="description" content="我目前有一個需求
我寫一隻程式
程式執行前需要我自訂的一些設定檔裡的參數
由於設定檔滿多的
所以我想打包成一個檔
">
<meta property="og:site_name" content="Ptt 批踢踢實業坊">
<meta property="og:title" content="[問題] 打包檔案">
<meta property="og:description" content="我目前有一個需求
我寫一隻程式
程式執行前需要我自訂的一些設定檔裡的參數
由於設定檔滿多的
所以我想打包成一個檔
">
<link rel="canonical" href="https://www.ptt.cc/bbs/Linux/M.1516193539.A.C5E.html">

<link rel="stylesheet" type="text/css" href="bbs-common.css">
<link rel="stylesheet" type="text/css" href="bbs-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="bbs-custom.css">
<link rel="stylesheet" type="text/css" href="pushstream.css" media="screen">
<link rel="stylesheet" type="text/css" href="bbs-print.css" media="print">




	</head>
    <body>
		
<div id="fb-root"></div>
<script>(function(d, s, id) {
var js, fjs = d.getElementsByTagName(s)[0];
if (d.getElementById(id)) return;
js = d.createElement(s); js.id = id;
js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<div id="topbar-container">
	<div id="topbar" class="bbs-content">
		<a id="logo" hrefhref="http://www.ptt.cc/">批踢踢實業坊</a>
		<span>&rsaquo;</span>
		<a class="board" hrefhref="http://www.ptt.cc/bbs/Linux/index.html"><span class="board-label">看板 </span>Linux</a>
		<a class="right small" hrefhref="http://www.ptt.cc/about.html">關於我們</a>
		<a class="right small" hrefhref="http://www.ptt.cc/contact.html">聯絡資訊</a>
	</div>
</div>
<div id="navigation-container">
	<div id="navigation" class="bbs-content">
		<a class="board" hrefhref="http://www.ptt.cc/bbs/Linux/index.html">返回看板</a>
		<div class="bar"></div>
		<div class="share">
			<span>分享</span>
			<div class="fb-like" data-send="false" data-layout="button_count" data-width="90" data-show-faces="false" data-href="http://www.ptt.cc/bbs/Linux/M.1516193539.A.C5E.html"></div>

			<div class="g-plusone" data-size="medium"></div>
<script type="text/javascript">
window.___gcfg = {lang: 'zh-TW'};
(function() {
var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
po.src = 'https://apis.google.com/js/plusone.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
})();
</script>

		</div>
	</div>
</div>
<div id="main-container">
    <div id="main-content" class="bbs-screen bbs-content"><div class="article-metaline"><span class="article-meta-tag">作者</span><span class="article-meta-value">gamed (Maiko)</span></div><div class="article-metaline-right"><span class="article-meta-tag">看板</span><span class="article-meta-value">Linux</span></div><div class="article-metaline"><span class="article-meta-tag">標題</span><span class="article-meta-value">[問題] 打包檔案</span></div><div class="article-metaline"><span class="article-meta-tag">時間</span><span class="article-meta-value">Wed Jan 17 20:52:16 2018</span></div>
我目前有一個需求
我寫一隻程式
程式執行前需要我自訂的一些設定檔裡的參數

由於設定檔滿多的
所以我想打包成一個檔
程式再去解開 讀取出來

我不太想要用 tar
因為不太能確定每一個對方的機器都有 tar 的指令

目前是想到用 cat 打包成一個檔
cat split1 split2 split3 &gt; output

只是要怎麼去解析這個 output ?
我是想只好再多一個描述檔
描述這個 output 的包的檔案資訊

不知道有沒有麼方法可以產生固定大小的檔案
這樣我就可以將這個描述檔直接包進去 output 了

還有各位高手有其他的好方法??
謝謝

--
<span class="f2">※ 發信站: 批踢踢實業坊(ptt.cc), 來自: 180.177.11.95
</span><span class="f2">※ 文章網址: <a href="https://www.ptt.cc/bbs/Linux/M.1516193539.A.C5E.html" target="_blank" rel="nofollow">https://www.ptt.cc/bbs/Linux/M.1516193539.A.C5E.html</a>
</span><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">brli7848</span><span class="f3 push-content">: 想辦法去確定每個地方都有 tar(認真</span><span class="push-ipdatetime"> 01/17 20:59
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">kdjf</span><span class="f3 push-content">: 自解壓縮檔? 不過不是嵌入式的機器不會沒tar吧...</span><span class="push-ipdatetime"> 01/17 22:30
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">nknudragon</span><span class="f3 push-content">: 寫程式去讀取zip檔？</span><span class="push-ipdatetime"> 01/17 22:38
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">jmlntw</span><span class="f3 push-content">: 你的程式語言本身沒有讀取 tar 的方法嗎？</span><span class="push-ipdatetime"> 01/17 23:03
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">jmlntw</span><span class="f3 push-content">: 例如 Python 的 tarfile 之類的</span><span class="push-ipdatetime"> 01/17 23:06
</span></div>不好意思 文中比較沒有說明完整
目標機器就是嵌入式的linux XD
或許 busybox上可以把 tar 打開?
但因為我只是要實做小功能而已
不太想開太多程式出來
我在想想其他方法吧
謝謝各位
<span class="f2">※ 編輯: gamed (180.177.11.95), 01/17/2018 23:10:00
</span><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">holishing</span><span class="f3 push-content">: busybox 好像有 tar</span><span class="push-ipdatetime"> 01/17 23:19
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">Alica</span><span class="f3 push-content">: busybox一般都有tar/gzip/bzip2 新一點的也有xz</span><span class="push-ipdatetime"> 01/17 23:33
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">dou0228</span><span class="f3 push-content">: create iso</span><span class="push-ipdatetime"> 01/18 13:53
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">hijkxyzuw</span><span class="f3 push-content">: dd if=/dev/zero of=filefs count=5 bs=1000000</span><span class="push-ipdatetime"> 01/18 16:38
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">hijkxyzuw</span><span class="f3 push-content">: mkfs -t ext2 filefs</span><span class="push-ipdatetime"> 01/18 16:39
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">hijkxyzuw</span><span class="f3 push-content">: sudo mount filefs /mnt</span><span class="push-ipdatetime"> 01/18 16:39
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">hijkxyzuw</span><span class="f3 push-content">: 然後把東西丟進去，再傳 filefs 過去</span><span class="push-ipdatetime"> 01/18 16:39
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">hijkxyzuw</span><span class="f3 push-content">: 或用 base64 編碼，再全部放在同一個文字檔</span><span class="push-ipdatetime"> 01/18 16:41
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">hijkxyzuw</span><span class="f3 push-content">: 記錄每個檔案的大小，cat 在一起再用 dd skip=$size 分</span><span class="push-ipdatetime"> 01/18 16:42
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">hijkxyzuw</span><span class="f3 push-content">: base64 那個，可以參考 HTML form 或 email</span><span class="push-ipdatetime"> 01/18 16:48
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">hijkxyzuw</span><span class="f3 push-content">: 是怎麼夾帶檔案的，大概就是 base64 + 分隔符 + mime</span><span class="push-ipdatetime"> 01/18 16:49
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">hijkxyzuw</span><span class="f3 push-content">: 或參考 mime multipart/*</span><span class="push-ipdatetime"> 01/18 16:57
</span></div></div>
    
    <div id="article-polling" data-pollurlhref="http://www.ptt.cc/poll/Linux/M.1516193539.A.C5E.html?cacheKey=2115-1014599693&offset=2633&offset-sig=098dc2f41edb5f464289bbee887bd70a157b84a3" data-longpollurl="/v1/longpoll?id=f31a3c7089d2dfca55c1310d6b90cd0bae99dc5c" data-offset="2633"></div>
    

    
</div>

		

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-32365737-1', {
    cookieDomain: 'ptt.cc',
    legacyCookieDomain: 'ptt.cc'
  });
  ga('send', 'pageview');
</script>


		
<script src="jquery.min.js"></script>
<script src="script>

    </body>
</html>
